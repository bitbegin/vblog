(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{386:function(t,e,n){"use strict";n.r(e);var r=n(5),s=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"red-system脚本的实际编写"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#red-system脚本的实际编写"}},[t._v("#")]),t._v(" Red/System脚本的实际编写")]),t._v(" "),e("p",[e("img",{attrs:{src:"/2015-02-19-red-study-2/%E6%98%8E%E4%BA%AE%E7%9A%84%E9%94%AE%E7%9B%98.jpg",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"写你的第一个red-system脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#写你的第一个red-system脚本"}},[t._v("#")]),t._v(" 写你的第一个Red/System脚本")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('Red/System []\nprint "Hello Bitbegin!"\n')])])]),e("p",[t._v('把这段code复制到"HelloBitbegin.reds"文本文件中，然后使用 '),e("code",[t._v("Red.exe -c HelloBitbegin.reds")]),t._v("编译出"),e("code",[t._v("HelloBitbegin.exe")]),t._v("。在命令行下执行"),e("code",[t._v("HelloBitbegin.exe")]),t._v("即可看到：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("Hello Bitbegin!\n")])])]),e("p",[t._v("这里 "),e("code",[t._v("Red/System []")]),t._v("是必不可少的，"),e("code",[t._v("Red")]),t._v("工具以此来识别语法使用"),e("code",[t._v("Red/System")]),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"访问动态链接库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问动态链接库"}},[t._v("#")]),t._v(" 访问动态链接库")]),t._v(" "),e("p",[t._v("通常我们写的应用程序都需要调用操作系统的动态链接库，"),e("code",[t._v("Red/System")]),t._v("提供了相应的访问动态链接库的机制。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('#import [\n\t"kernel32.dll" stdcall [\n\t\tGetCommandLine: "GetCommandLineA" [\n\t\t\treturn:\t\t[c-string!]\n\t\t]\n\t\tSetErrorMode: "SetErrorMode" [\n\t\t\tmode\t\t[integer!]\n\t\t\treturn:\t\t[integer!]\n\t\t]\n\t\tSetUnhandledExceptionFilter: "SetUnhandledExceptionFilter" [\n\t\t\thandler \t[function! [record [SEH_EXCEPTION_RECORD] return: [integer!]]]\n\t\t]\n\t\tGetStdHandle: "GetStdHandle" [\n\t\t\ttype\t\t[integer!]\n\t\t\treturn:\t\t[integer!]\n\t\t]\n\t\tWriteFile: "WriteFile" [\n\t\t\thandle\t\t[integer!]\n\t\t\tbuffer\t\t[c-string!]\n\t\t\tlen\t\t\t[integer!]\n\t\t\twritten\t\t[int-ptr!]\n\t\t\toverlapped\t[integer!]\n\t\t\treturn:\t\t[integer!]\n\t\t]\n\t]\n]\n')])])]),e("blockquote",[e("p",[t._v('这些代码来自 "win32.reds"。')])]),t._v(" "),e("p",[t._v("这就像"),e("code",[t._v("C")]),t._v("语言中的函数声明。")]),t._v(" "),e("h2",{attrs:{id:"red-system的命名空间"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#red-system的命名空间"}},[t._v("#")]),t._v(" Red/System的命名空间")]),t._v(" "),e("p",[t._v("在完成"),e("code",[t._v("Red/System")]),t._v("脚本时，最好加上命名空间功能，防止出现命名冲突。")]),t._v(" "),e("p",[t._v("Example:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("func-a: context [\n    b: 123    \n]\t    \nprint func-a/b\n")])])]),e("Vssue",{attrs:{title:t.$title}})],1)}),[],!1,null,null,null);e.default=s.exports}}]);